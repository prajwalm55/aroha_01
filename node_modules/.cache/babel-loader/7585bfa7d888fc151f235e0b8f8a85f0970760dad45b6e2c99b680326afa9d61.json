{"ast":null,"code":"// import { useEffect, useState } from 'react';\n// import styles from './Auth.module.css';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const UserDetails = () => {\n//   const [user, setUser] = useState(null);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     // Fetch user details from backend\n//     const fetchUser = async () => {\n//       try {\n//         const response = await axios.get('http://localhost:3001/api/auth/getUserDetails', {\n//           withCredentials: true, // send cookie\n//         });\n//         setUser(response.data);\n//       } catch (error) {\n//         console.error('Failed to fetch user details:', error);\n//         // If not authenticated, redirect to login\n//         navigate('/login');\n//       }\n//     };\n\n//     fetchUser();\n//   }, [navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, {\n//         withCredentials: true,\n//       });\n//       navigate('/login');\n//     } catch (error) {\n//       console.error('Logout failed:', error);\n//       alert('Logout failed. Please try again.');\n//     }\n//   };\n\n//   if (!user) return <p>Loading user info...</p>;\n\n//   return (\n//     <div className={styles.authContainer}>\n//       <div className={styles.authForm}>\n//         <h2 className={styles.authTitle}>User Details</h2>\n//         <p><strong>Name:</strong> {user.name}</p>\n//         <p><strong>Email:</strong> {user.email}</p>\n//         <p><strong>Mobile:</strong> {user.mobile}</p>\n\n//         <button onClick={handleLogout} className={styles.submitButton}>\n//           Logout\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default UserDetails;\n\n// import { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const UserDetails = () => {\n//   const [user, setUser] = useState(null);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const fetchUser = async () => {\n//       try {\n//         const response = await axios.get('http://localhost:3001/api/auth/getUserDetails', {\n//           withCredentials: true,\n//         });\n//         setUser(response.data);\n//       } catch (error) {\n//         console.error('Failed to fetch user details:', error);\n//         navigate('/login');\n//       }\n//     };\n\n//     fetchUser();\n//   }, [navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, {\n//         withCredentials: true,\n//       });\n//       localStorage.clear();\n//       navigate('/login');\n//     } catch (error) {\n//       console.error('Logout failed:', error);\n//       alert('Logout failed. Please try again.');\n//     }\n//   };\n\n//   if (!user) return null;\n\n//   return (\n//     <div style={overlayStyle} onClick={() => navigate(-1)}>\n//       <div style={sidebarStyle} onClick={(e) => e.stopPropagation()}>\n//         <div style={headerStyle}>\n//           <h2>User Details</h2>\n//           <button onClick={() => navigate(-1)} style={closeBtn}>×</button>\n//         </div>\n//         <div style={infoStyle}>\n//           <p><strong>Name:</strong> {user.name}</p>\n//           <p><strong>Email:</strong> {user.email}</p>\n//           <p><strong>Mobile:</strong> {user.mobile}</p>\n//         </div>\n//         <button onClick={handleLogout} style={logoutBtn}>Logout</button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // ✅ Overlay Background\n// const overlayStyle = {\n//   position: 'fixed',\n//   top: 0,\n//   left: 0,\n//   width: '100vw',\n//   height: '100vh',\n//   backgroundColor: 'rgba(0, 0, 0, 0.4)',\n//   zIndex: 9999,\n//   display: 'flex',\n//   justifyContent: 'flex-end',\n//   alignItems: 'stretch',\n// };\n\n// // ✅ Sidebar Panel\n// const sidebarStyle = {\n//   width: '350px',\n//   height: '100%',\n//   backgroundColor: '#fff',\n//   padding: '20px',\n//   boxShadow: '-2px 0 8px rgba(0,0,0,0.2)',\n//   display: 'flex',\n//   flexDirection: 'column',\n//   justifyContent: 'space-between',\n// };\n\n// // ✅ Header\n// const headerStyle = {\n//   display: 'flex',\n//   justifyContent: 'space-between',\n//   alignItems: 'center',\n//   marginBottom: '20px',\n// };\n\n// // ❌ Close Button\n// const closeBtn = {\n//   fontSize: '24px',\n//   background: 'none',\n//   border: 'none',\n//   color: 'red',\n//   cursor: 'pointer',\n// };\n\n// // ✅ Info Section\n// const infoStyle = {\n//   flex: 1,\n//   display: 'flex',\n//   flexDirection: 'column',\n//   gap: '10px',\n//   fontSize: '15px',\n// };\n\n// // ✅ Logout Button\n// const logoutBtn = {\n//   backgroundColor: '#ef4444',\n//   color: 'white',\n//   padding: '10px',\n//   border: 'none',\n//   borderRadius: '6px',\n//   fontWeight: 'bold',\n//   cursor: 'pointer',\n// };\n\nexport default UserDetails;","map":{"version":3,"names":["UserDetails"],"sources":["/Users/apple/Desktop/LoginAuthMERN_MVC-Main/Frontend/src/Components/Auth/UserDetails.js"],"sourcesContent":["// import { useEffect, useState } from 'react';\n// import styles from './Auth.module.css';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const UserDetails = () => {\n//   const [user, setUser] = useState(null);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     // Fetch user details from backend\n//     const fetchUser = async () => {\n//       try {\n//         const response = await axios.get('http://localhost:3001/api/auth/getUserDetails', {\n//           withCredentials: true, // send cookie\n//         });\n//         setUser(response.data);\n//       } catch (error) {\n//         console.error('Failed to fetch user details:', error);\n//         // If not authenticated, redirect to login\n//         navigate('/login');\n//       }\n//     };\n    \n\n//     fetchUser();\n//   }, [navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, {\n//         withCredentials: true,\n//       });\n//       navigate('/login');\n//     } catch (error) {\n//       console.error('Logout failed:', error);\n//       alert('Logout failed. Please try again.');\n//     }\n//   };\n\n//   if (!user) return <p>Loading user info...</p>;\n\n//   return (\n//     <div className={styles.authContainer}>\n//       <div className={styles.authForm}>\n//         <h2 className={styles.authTitle}>User Details</h2>\n//         <p><strong>Name:</strong> {user.name}</p>\n//         <p><strong>Email:</strong> {user.email}</p>\n//         <p><strong>Mobile:</strong> {user.mobile}</p>\n\n//         <button onClick={handleLogout} className={styles.submitButton}>\n//           Logout\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default UserDetails;\n\n\n\n\n\n\n\n\n\n\n\n// import { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const UserDetails = () => {\n//   const [user, setUser] = useState(null);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const fetchUser = async () => {\n//       try {\n//         const response = await axios.get('http://localhost:3001/api/auth/getUserDetails', {\n//           withCredentials: true,\n//         });\n//         setUser(response.data);\n//       } catch (error) {\n//         console.error('Failed to fetch user details:', error);\n//         navigate('/login');\n//       }\n//     };\n\n//     fetchUser();\n//   }, [navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, {\n//         withCredentials: true,\n//       });\n//       localStorage.clear();\n//       navigate('/login');\n//     } catch (error) {\n//       console.error('Logout failed:', error);\n//       alert('Logout failed. Please try again.');\n//     }\n//   };\n\n//   if (!user) return null;\n\n//   return (\n//     <div style={overlayStyle} onClick={() => navigate(-1)}>\n//       <div style={sidebarStyle} onClick={(e) => e.stopPropagation()}>\n//         <div style={headerStyle}>\n//           <h2>User Details</h2>\n//           <button onClick={() => navigate(-1)} style={closeBtn}>×</button>\n//         </div>\n//         <div style={infoStyle}>\n//           <p><strong>Name:</strong> {user.name}</p>\n//           <p><strong>Email:</strong> {user.email}</p>\n//           <p><strong>Mobile:</strong> {user.mobile}</p>\n//         </div>\n//         <button onClick={handleLogout} style={logoutBtn}>Logout</button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // ✅ Overlay Background\n// const overlayStyle = {\n//   position: 'fixed',\n//   top: 0,\n//   left: 0,\n//   width: '100vw',\n//   height: '100vh',\n//   backgroundColor: 'rgba(0, 0, 0, 0.4)',\n//   zIndex: 9999,\n//   display: 'flex',\n//   justifyContent: 'flex-end',\n//   alignItems: 'stretch',\n// };\n\n// // ✅ Sidebar Panel\n// const sidebarStyle = {\n//   width: '350px',\n//   height: '100%',\n//   backgroundColor: '#fff',\n//   padding: '20px',\n//   boxShadow: '-2px 0 8px rgba(0,0,0,0.2)',\n//   display: 'flex',\n//   flexDirection: 'column',\n//   justifyContent: 'space-between',\n// };\n\n// // ✅ Header\n// const headerStyle = {\n//   display: 'flex',\n//   justifyContent: 'space-between',\n//   alignItems: 'center',\n//   marginBottom: '20px',\n// };\n\n// // ❌ Close Button\n// const closeBtn = {\n//   fontSize: '24px',\n//   background: 'none',\n//   border: 'none',\n//   color: 'red',\n//   cursor: 'pointer',\n// };\n\n// // ✅ Info Section\n// const infoStyle = {\n//   flex: 1,\n//   display: 'flex',\n//   flexDirection: 'column',\n//   gap: '10px',\n//   fontSize: '15px',\n// };\n\n// // ✅ Logout Button\n// const logoutBtn = {\n//   backgroundColor: '#ef4444',\n//   color: 'white',\n//   padding: '10px',\n//   border: 'none',\n//   borderRadius: '6px',\n//   fontWeight: 'bold',\n//   cursor: 'pointer',\n// };\n\nexport default UserDetails;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAYA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}