{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const Sidebar = ({ onClose, open }) => {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const fetchUser = async () => {\n//       const storedUser = localStorage.getItem('user');\n\n//       if (storedUser) {\n//         setUser(JSON.parse(storedUser)); // ✅ Use saved data\n//         setLoading(false);\n//       } else {\n//         try {\n//           const res = await axios.get('http://localhost:3001/api/auth/me', {\n//             withCredentials: true,\n//           });\n//           setUser(res.data);\n//           localStorage.setItem('user', JSON.stringify(res.data));\n//         } catch (err) {\n//           navigate('/login');\n//         } finally {\n//           setLoading(false);\n//         }\n//       }\n//     };\n\n//     if (open) fetchUser();\n//   }, [open, navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, { withCredentials: true });\n//       localStorage.removeItem('user'); // ✅ Clear on logout\n//       navigate('/login');\n//     } catch (err) {\n//       console.error('Logout failed:', err);\n//     }\n//   };\n\n//   if (!open) return null;\n\n//   return (\n//     <div\n//       style={{\n//         position: 'fixed',\n//         top: 0,\n//         right: 0,\n//         width: '280px',\n//         height: '100%',\n//         backgroundColor: '#f8f9fa',\n//         boxShadow: '-2px 0 8px rgba(0,0,0,0.1)',\n//         padding: '20px',\n//         zIndex: 999,\n//       }}\n//     >\n//       <button\n//         onClick={onClose}\n//         style={{\n//           background: 'transparent',\n//           border: 'none',\n//           fontSize: '18px',\n//           float: 'right',\n//           cursor: 'pointer',\n//         }}\n//       >\n//         ❌\n//       </button>\n\n//       <h3 style={{ marginTop: '40px', fontWeight: 'bold', color: '#111' }}>\n//         Profile\n//       </h3>\n\n//       {loading ? (\n//         <p style={{ fontSize: '14px', color: '#555' }}>Loading...</p>\n//       ) : user ? (\n//         <div style={{ marginTop: '20px', fontSize: '14px', color: '#333' }}>\n//           <p><strong>Name:</strong> {user.name}</p>\n//           <p><strong>Email:</strong> {user.email}</p>\n//           <p><strong>Role:</strong> {user.role}</p>\n//           <button\n//             onClick={handleLogout}\n//             style={{\n//               marginTop: '20px',\n//               backgroundColor: '#dc2626',\n//               color: '#fff',\n//               border: 'none',\n//               padding: '10px 16px',\n//               borderRadius: '6px',\n//               cursor: 'pointer',\n//               fontWeight: '600',\n//             }}\n//           >\n//             Logout\n//           </button>\n//         </div>\n//       ) : (\n//         <p>User not found</p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Sidebar;","map":{"version":3,"names":[],"sources":["/Users/apple/Desktop/LoginAuthMERN_MVC-Main/Frontend/src/Components/Sidebar.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const Sidebar = ({ onClose, open }) => {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     const fetchUser = async () => {\n//       const storedUser = localStorage.getItem('user');\n\n//       if (storedUser) {\n//         setUser(JSON.parse(storedUser)); // ✅ Use saved data\n//         setLoading(false);\n//       } else {\n//         try {\n//           const res = await axios.get('http://localhost:3001/api/auth/me', {\n//             withCredentials: true,\n//           });\n//           setUser(res.data);\n//           localStorage.setItem('user', JSON.stringify(res.data));\n//         } catch (err) {\n//           navigate('/login');\n//         } finally {\n//           setLoading(false);\n//         }\n//       }\n//     };\n\n//     if (open) fetchUser();\n//   }, [open, navigate]);\n\n//   const handleLogout = async () => {\n//     try {\n//       await axios.post('http://localhost:3001/api/auth/logout', {}, { withCredentials: true });\n//       localStorage.removeItem('user'); // ✅ Clear on logout\n//       navigate('/login');\n//     } catch (err) {\n//       console.error('Logout failed:', err);\n//     }\n//   };\n\n//   if (!open) return null;\n\n//   return (\n//     <div\n//       style={{\n//         position: 'fixed',\n//         top: 0,\n//         right: 0,\n//         width: '280px',\n//         height: '100%',\n//         backgroundColor: '#f8f9fa',\n//         boxShadow: '-2px 0 8px rgba(0,0,0,0.1)',\n//         padding: '20px',\n//         zIndex: 999,\n//       }}\n//     >\n//       <button\n//         onClick={onClose}\n//         style={{\n//           background: 'transparent',\n//           border: 'none',\n//           fontSize: '18px',\n//           float: 'right',\n//           cursor: 'pointer',\n//         }}\n//       >\n//         ❌\n//       </button>\n\n//       <h3 style={{ marginTop: '40px', fontWeight: 'bold', color: '#111' }}>\n//         Profile\n//       </h3>\n\n//       {loading ? (\n//         <p style={{ fontSize: '14px', color: '#555' }}>Loading...</p>\n//       ) : user ? (\n//         <div style={{ marginTop: '20px', fontSize: '14px', color: '#333' }}>\n//           <p><strong>Name:</strong> {user.name}</p>\n//           <p><strong>Email:</strong> {user.email}</p>\n//           <p><strong>Role:</strong> {user.role}</p>\n//           <button\n//             onClick={handleLogout}\n//             style={{\n//               marginTop: '20px',\n//               backgroundColor: '#dc2626',\n//               color: '#fff',\n//               border: 'none',\n//               padding: '10px 16px',\n//               borderRadius: '6px',\n//               cursor: 'pointer',\n//               fontWeight: '600',\n//             }}\n//           >\n//             Logout\n//           </button>\n//         </div>\n//       ) : (\n//         <p>User not found</p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Sidebar;\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}