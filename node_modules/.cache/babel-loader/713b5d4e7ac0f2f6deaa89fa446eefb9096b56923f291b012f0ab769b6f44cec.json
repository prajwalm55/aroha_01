{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/LoginAuthMERN_MVC-Main/Frontend/src/Components/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport { useForm } from 'react-hook-form';\nimport styles from './Auth.module.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: 'onBlur',\n    reValidateMode: 'onBlur'\n  });\n  const onSubmit = async data => {\n    try {\n      const response = await axios.post('http://localhost:3001/api/auth/login', data, {\n        withCredentials: true // to send and receive cookies\n      });\n      console.log('Response headers:', response.headers); // just to check cookies or other headers\n\n      if (response.status === 200) {\n        alert('Login successful!');\n        // No localStorage usage anymore\n\n        // Navigate to dashboard or protected route\n        navigate('/userDetails'); // adjust the route as per your app\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      if (error.response) {\n        alert(error.response.data.message || 'Login failed');\n      } else {\n        alert('An unexpected error occurred. Please try again.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.authContainer,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.authForm,\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.authTitle,\n        children: \"Login to your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputGroup,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: styles.label,\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          type: \"email\",\n          className: styles.input,\n          ...register('email', {\n            required: 'Email is required',\n            pattern: {\n              value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n              message: 'Invalid email address'\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          children: errors.email.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputGroup,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: styles.label,\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          className: styles.input,\n          ...register('password', {\n            required: 'Password is required',\n            minLength: {\n              value: 6,\n              message: 'Password must be at least 6 characters'\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          children: errors.password.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: styles.submitButton,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.toggleText,\n        children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: styles.toggleLink,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"HoKfjMZ92ei5+tBlduY2RAS552Q=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useForm","styles","Link","useNavigate","axios","jsxDEV","_jsxDEV","Login","_s","navigate","register","handleSubmit","formState","errors","mode","reValidateMode","onSubmit","data","response","post","withCredentials","console","log","headers","status","alert","error","message","className","authContainer","children","authForm","authTitle","fileName","_jsxFileName","lineNumber","columnNumber","inputGroup","htmlFor","label","id","type","input","required","pattern","value","email","minLength","password","submitButton","toggleText","to","toggleLink","_c","$RefreshReg$"],"sources":["/Users/apple/Desktop/LoginAuthMERN_MVC-Main/Frontend/src/Components/Auth/Login.js"],"sourcesContent":["import { useForm } from 'react-hook-form';\nimport styles from './Auth.module.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Login = () => {\n  const navigate = useNavigate();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    mode: 'onBlur',\n    reValidateMode: 'onBlur',\n  });\n\n  const onSubmit = async (data) => {\n  try {\n    const response = await axios.post('http://localhost:3001/api/auth/login', data, {\n      withCredentials: true, // to send and receive cookies\n    });\n\n    console.log('Response headers:', response.headers); // just to check cookies or other headers\n\n    if (response.status === 200) {\n      alert('Login successful!');\n      // No localStorage usage anymore\n\n      // Navigate to dashboard or protected route\n      navigate('/userDetails'); // adjust the route as per your app\n    }\n  } catch (error) {\n    console.error('Login error:', error);\n    if (error.response) {\n      alert(error.response.data.message || 'Login failed');\n    } else {\n      alert('An unexpected error occurred. Please try again.');\n    }\n  }\n};\n\n\n  return (\n    <div className={styles.authContainer}>\n      <form className={styles.authForm} onSubmit={handleSubmit(onSubmit)}>\n        <h2 className={styles.authTitle}>Login to your account</h2>\n\n        <div className={styles.inputGroup}>\n          <label htmlFor=\"email\" className={styles.label}>Email</label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            className={styles.input}\n            {...register('email', {\n              required: 'Email is required',\n              pattern: {\n                value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n                message: 'Invalid email address',\n              },\n            })}\n          />\n          {errors.email && <div className={styles.error}>{errors.email.message}</div>}\n        </div>\n\n        <div className={styles.inputGroup}>\n          <label htmlFor=\"password\" className={styles.label}>Password</label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            className={styles.input}\n            {...register('password', {\n              required: 'Password is required',\n              minLength: {\n                value: 6,\n                message: 'Password must be at least 6 characters',\n              },\n            })}\n          />\n          {errors.password && <div className={styles.error}>{errors.password.message}</div>}\n        </div>\n\n        <button type=\"submit\" className={styles.submitButton}>\n          Login\n        </button>\n\n        <p className={styles.toggleText}>\n          Don't have an account?{' '}\n          <Link to=\"/register\" className={styles.toggleLink}>Register</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}